<?php
date_default_timezone_set('America/Chicago');


/********************************************************************************/
$ts = gmdate("D, d M Y H:i:s") . " GMT";
header('Content-type: application/json');
header("Expires: $ts");
header("Last-Modified: $ts");
header("Pragma: no-cache");
header("Cache-Control: no-cache, must-revalidate");
/********************************************************************************/


/********************************************************************************/
/* api framework                                                                */
/********************************************************************************/
require("$root/includes/flight/Flight.php");
/********************************************************************************/


/********************************************************************************/
/* lazy loading                                                                 */
/********************************************************************************/
spl_autoload_register(function ($class) {
	$file = $_SERVER['DOCUMENT_ROOT']."/classes/class.$class.php";

	if (is_file($file)){
		include $file;
	}
});
/********************************************************************************/


/********************************************************************************/
/* dbconfig                                                                     */
/********************************************************************************/
include('c:\\Users\\Matt\\Desktop\\sites\\db_config_for_sites\\rfp.php');
/********************************************************************************/


/********************************************************************************/
/* database connection for the app                                              */
/********************************************************************************/
$db_conn = new database_connection($db_config);
/********************************************************************************/


/********************************************************************************/
/* user                                                                         */
/********************************************************************************/
$user = new user($db_conn);
if(!$user->authenticated){
	die('unauthorized access');
}
/********************************************************************************/


/********************************************************************************/
/* Common Helper Functions                                                      */
/********************************************************************************/
require_once("$root/includes/functions.php");
/********************************************************************************/
